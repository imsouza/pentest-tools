import socket

class TCPClient:
  def __init__(self):
    self.buffer_size = 1024
    self.socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

  def connect(self, host, port):
    print '[+] Connected to: ' + host + ':' + str(port) + '...'
    self.socket.connect((host, port))

  def sync(self):
    self.socket.send('SYN')
    _return = self.socket.recv(self.buffer_size)

    authenticated = False

    if _return == 'SYN-ACK':
        self.socket.send('ACK')

        authenticated = True

    return authenticated

  def send(self, message):
    self.socket.send(message)

  def closed(self):
    self.socket.close()


client = TCPClient()
client.connect('localhost', 7171)

if client.sync():
  print '[-] Sync with remote server.'
else:
  print '[!] Error connecting to server.'

